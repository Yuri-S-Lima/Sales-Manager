{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useContext } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Styles } from \"../components/Styles\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { FormInput } from \"../components/FormInput\";\nimport { SocialLogin } from \"../components/SocialLogin\";\nimport { ButtonOne } from \"../components/ButtonOne\";\nimport { auth } from \"../util/Firebase\";\nimport { db } from \"../util/Firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction Cadastrar(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      usuario = _useState6[0],\n      setUsuario = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      msg = _useState8[0],\n      setMsg = _useState8[1];\n\n  var nameColection = \"Usuários\";\n\n  function entrar() {\n    navigation.navigate('LogIn');\n  }\n\n  function criaUsuario() {\n    var user = auth.currentUser.uid;\n    db.collection(nameColection).doc(user).set({\n      NomeUsuario: usuario,\n      Lucro: 0\n    });\n  }\n\n  function criarConta() {\n    if (!email || email == '') {\n      setMsg('Email inválido');\n      return;\n    }\n\n    if (!password || password.length < 6) {\n      setMsg('Senha inválida');\n      return;\n    }\n\n    if (!usuario || usuario == '') {\n      setMsg('Usuário inválido');\n      return;\n    }\n\n    setMsg(null);\n    auth.createUserWithEmailAndPassword(email, password).then(function (userCredential) {\n      console.log(email);\n      criaUsuario(userCredential);\n      navigation.navigate('LogIn');\n    }).catch(function (error) {\n      if (error.code = 'auth/wrong-password') {\n        setMsg('Falha ao criar a conta');\n      } else {\n        setMsg('Erro ao autenticar. Verifique sua conexão com a Internet.');\n      }\n    });\n  }\n\n  return _jsx(View, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(SafeAreaView, {\n      style: {\n        flex: 1,\n        marginHorizontal: 25,\n        marginVertical: 50\n      },\n      children: _jsxs(View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center'\n        },\n        children: [_jsx(View, {\n          style: {\n            alignItems: 'center'\n          },\n          children: _jsx(Image, {\n            source: require(\"../../assets/icons/logo.png\"),\n            style: {\n              width: 150,\n              height: 150\n            }\n          })\n        }), _jsx(Text, {\n          style: Styles.pageTitle,\n          children: \"Cadastre-se com\"\n        }), _jsxs(View, {\n          style: {\n            flexDirection: 'row',\n            justifyContent: 'space-between'\n          },\n          children: [_jsx(SocialLogin, {\n            social: \"Google\"\n          }), _jsx(SocialLogin, {\n            social: \"Facebook\"\n          })]\n        }), _jsx(Text, {\n          style: {\n            textAlign: 'center',\n            color: '#6D3F8C'\n          },\n          children: msg\n        }), _jsxs(View, {\n          style: {\n            marginTop: 20\n          },\n          children: [_jsx(FormInput, {\n            holder: \"Usu\\xE1rio\",\n            image: true,\n            onChangeText: function onChangeText(text) {\n              return setUsuario(text);\n            }\n          }), _jsx(FormInput, {\n            holder: \"E-Mail\",\n            email: true,\n            image: true,\n            onChangeText: function onChangeText(text) {\n              return setEmail(text);\n            }\n          }), _jsx(FormInput, {\n            holder: \"Senha\",\n            password: true,\n            onChangeText: function onChangeText(text) {\n              return setPassword(text);\n            }\n          })]\n        }), _jsxs(View, {\n          style: {\n            marginTop: 38,\n            alignItems: 'center'\n          },\n          children: [_jsx(ButtonOne, {\n            title: \"Registrar\",\n            onPress: criarConta\n          }), _jsx(TouchableOpacity, {\n            onPress: entrar,\n            children: _jsx(Text, {\n              style: Styles.textEsc,\n              children: \"Possui uma conta? Fa\\xE7a login\"\n            })\n          })]\n        })]\n      })\n    })\n  });\n}\n\nexport default Cadastrar;","map":{"version":3,"sources":["/home/yuri/Programação/React/sales-manager/src/screens/Cadastrar.js"],"names":["React","useState","useContext","Styles","FormInput","SocialLogin","ButtonOne","auth","db","Cadastrar","navigation","email","setEmail","password","setPassword","usuario","setUsuario","msg","setMsg","nameColection","entrar","navigate","criaUsuario","user","currentUser","uid","collection","doc","set","NomeUsuario","Lucro","criarConta","length","createUserWithEmailAndPassword","then","userCredential","console","log","catch","error","code","flex","marginHorizontal","marginVertical","justifyContent","alignItems","require","width","height","pageTitle","flexDirection","textAlign","color","marginTop","text","textEsc"],"mappings":"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","sourcesContent":["import React ,{ useState, useContext } from \"react\";\nimport { SafeAreaView, TextInput } from \"react-native\";\nimport { Styles } from \"../components/Styles\";\nimport { Image, View, Text, TouchableOpacity } from 'react-native';\nimport { FormInput } from \"../components/FormInput\";\nimport { SocialLogin } from \"../components/SocialLogin\";\nimport { ButtonOne } from \"../components/ButtonOne\";\nimport { auth } from \"../util/Firebase\";\nimport { db } from \"../util/Firebase\";\n\nfunction Cadastrar({navigation}){\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [usuario, setUsuario] = useState('');\n    const [msg, setMsg] = useState(null);\n\n    const nameColection = \"Usuários\";\n\n    function entrar(){\n        navigation.navigate('LogIn')\n    }\n\n    function criaUsuario(){\n        let user = auth.currentUser.uid;\n        db.collection(nameColection).doc(user).set({\n            NomeUsuario: usuario,\n            Lucro: 0\n        });\n    }\n\n    function criarConta(){\n\n        if ((!email) || (email == '')) {\n            setMsg('Email inválido');\n            return;\n        }\n\n        if ((!password) || (password.length < 6)) {\n            setMsg('Senha inválida');\n            return;\n        }\n\n        if ((!usuario) || (usuario == '')) {\n            setMsg('Usuário inválido');\n            return;\n        }\n\n        setMsg(null);\n\n        auth.createUserWithEmailAndPassword(email, password).then((userCredential) => {\n            console.log(email)\n            criaUsuario(userCredential);\n            navigation.navigate('LogIn');\n        })\n        .catch((error) => {\n            if (error.code = 'auth/wrong-password') {\n                setMsg('Falha ao criar a conta');\n            } else {\n                setMsg('Erro ao autenticar. Verifique sua conexão com a Internet.');\n            }\n        });\n      \n    }\n\n    return(\n        <View style = {{flex: 1}}>\n            <SafeAreaView style = {{flex:1, marginHorizontal: 25, marginVertical: 50}}>\n                    \n                <View style = {{flex:1, justifyContent:'center'}}>\n\n                    <View style = {{alignItems: 'center'}}>\n                        <Image source={require('../../assets/icons/logo.png')} style = {{width: 150, height: 150}}/>\n                    </View>\n\n                    <Text style = {Styles.pageTitle}>Cadastre-se com</Text>\n                    <View style = {{flexDirection: 'row', justifyContent: 'space-between'}}> \n                        <SocialLogin social = 'Google'/>\n                        <SocialLogin social = 'Facebook'/>\n                    </View>\n\n                    <Text style={{ textAlign: 'center', color: '#6D3F8C' }}>{msg}</Text>\n                    <View style = {{marginTop: 20}}>\n                       \n                        <FormInput holder = 'Usuário' image = {true} onChangeText={text => setUsuario(text)} />\n                        <FormInput holder = 'E-Mail' email = {true} image = {true} onChangeText={text => setEmail(text)}/>\n                        <FormInput holder = 'Senha' password = {true} onChangeText={text => setPassword(text)} />\n                    </View>\n\n                    <View style = {{marginTop: 38, alignItems:'center'}}>\n                        <ButtonOne title = 'Registrar'  onPress = {criarConta}/>\n                        <TouchableOpacity onPress = {entrar}>\n                            <Text style = {Styles.textEsc}>Possui uma conta? Faça login</Text>\n                        </TouchableOpacity>\n                     </View>\n\n                </View>\n                    \n            </SafeAreaView>\n        </View>\n    );\n}\n\nexport default Cadastrar;"]},"metadata":{},"sourceType":"module"}